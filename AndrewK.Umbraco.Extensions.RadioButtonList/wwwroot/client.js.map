{"version":3,"file":"client.js","sources":["../client/src/property-editor-ui-ak-radio-button-list.element.ts"],"sourcesContent":["import type { UmbInputRadioButtonListElement, UmbRadioButtonItem } from '@umbraco-cms/backoffice/components'\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event'\nimport { html, customElement, property, state, query } from '@umbraco-cms/backoffice/external/lit'\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element'\nimport { UUIFormControlMixin } from \"@umbraco-cms/backoffice/external/uui\"\nimport { UMB_VALIDATION_EMPTY_LOCALIZATION_KEY } from '@umbraco-cms/backoffice/validation'\nimport type {\n    UmbPropertyEditorConfigCollection,\n    UmbPropertyEditorUiElement,\n} from '@umbraco-cms/backoffice/property-editor'\n\n@customElement('ak-property-editor-ui-radio-button-list')\nexport class AkPropertyEditorUIRadioButtonListElement\n    extends UUIFormControlMixin<string | undefined, typeof UmbLitElement, undefined>(UmbLitElement)\n    implements UmbPropertyEditorUiElement {\n    @state() private _list: Array<UmbRadioButtonItem> = []\n\n    @property({ type: Boolean, reflect: true }) readonly = false\n\n    @property({ type: Boolean }) mandatory?: boolean\n\n    @property({ type: String }) mandatoryMessage = UMB_VALIDATION_EMPTY_LOCALIZATION_KEY\n\n    @query('umb-input-radio-button-list') _input?: UmbInputRadioButtonListElement\n\n    public set config(config: UmbPropertyEditorConfigCollection | undefined) {\n        if (!config) return\n\n        const items = config.getValueByAlias('items')\n        const defaultValue: string | undefined = config.getValueByAlias('default')\n\n        if (!this.value && !!defaultValue) {\n            this.value = defaultValue\n            this.dispatchEvent(new UmbChangeEvent())\n        }\n\n        if (Array.isArray(items) && !!items.length) {\n            this._list = items.map((item) => ({\n                label: this.localize.string(item.value),\n                value: item.key\n            }))\n\n            // If selection includes a value which is not in the list, add it to the list as invalid\n            if (this.value && !this._list.find((item) => item.value === this.value)) {\n                this._list.push({ label: this.value, value: this.value, invalid: true })\n            }\n        }\n    }\n\n    #onChange(event: CustomEvent & { target: UmbInputRadioButtonListElement }) {\n        this.value = event.target.value\n        this.dispatchEvent(new UmbChangeEvent())\n    }\n\n    override render() {\n        return html`\n          <umb-input-radio-button-list\n            .list=${ this._list }\n            .required=${ this.mandatory }\n            .requiredMessage=${ this.mandatoryMessage }\n            .value=${ this.value ?? '' }\n            ?readonly=${ this.readonly }\n            @change=${ this.#onChange }\n          ></umb-input-radio-button-list>\n        `\n    }\n\n    override getFormElement = () => this._input\n}\n\nexport default AkPropertyEditorUIRadioButtonListElement\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'ak-property-editor-ui-radio-button-list': AkPropertyEditorUIRadioButtonListElement\n    }\n}"],"names":["_AkPropertyEditorUIRadioButtonListElement_instances","onChange_fn","AkPropertyEditorUIRadioButtonListElement","UUIFormControlMixin","UmbLitElement","__privateAdd","UMB_VALIDATION_EMPTY_LOCALIZATION_KEY","config","items","defaultValue","UmbChangeEvent","item","html","__privateMethod","event","__decorateClass","state","property","query","customElement","AkPropertyEditorUIRadioButtonListElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAYO,IAAMC,IAAN,cACKC,EAAyEC,CAAa,EACxD;AAAA,EAFnC,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAGM,KAAQ,QAAmC,CAAA,GAER,KAAA,WAAW,IAI3B,KAAA,mBAAmBM,GA8C/C,KAAS,iBAAiB,MAAM,KAAK;AAAA,EAAA;AAAA,EA1CrC,IAAW,OAAOC,GAAuD;AACrE,QAAI,CAACA,EAAQ;AAEb,UAAMC,IAAQD,EAAO,gBAAgB,OAAO,GACtCE,IAAmCF,EAAO,gBAAgB,SAAS;AAEzE,IAAI,CAAC,KAAK,SAAWE,MACjB,KAAK,QAAQA,GACb,KAAK,cAAc,IAAIC,GAAgB,IAGvC,MAAM,QAAQF,CAAK,KAAOA,EAAM,WAChC,KAAK,QAAQA,EAAM,IAAI,CAACG,OAAU;AAAA,MAC9B,OAAO,KAAK,SAAS,OAAOA,EAAK,KAAK;AAAA,MACtC,OAAOA,EAAK;AAAA,IAAA,EACd,GAGE,KAAK,SAAS,CAAC,KAAK,MAAM,KAAK,CAACA,MAASA,EAAK,UAAU,KAAK,KAAK,KAClE,KAAK,MAAM,KAAK,EAAE,OAAO,KAAK,OAAO,OAAO,KAAK,OAAO,SAAS,GAAA,CAAM;AAAA,EAE/E;AAAA,EAQK,SAAS;AACd,WAAOC;AAAA;AAAA,oBAEM,KAAK,KAAM;AAAA,wBACP,KAAK,SAAU;AAAA,+BACR,KAAK,gBAAiB;AAAA,qBAChC,KAAK,SAAS,EAAG;AAAA,wBACd,KAAK,QAAS;AAAA,sBAChBC,QAAKb,GAAAC,CAAA,CAAU;AAAA;AAAA;AAAA,EAAA;AAMtC;AAxDOD,IAAA,oBAAA,QAAA;AAqCHC,IAAS,SAACa,GAAiE;AACvE,OAAK,QAAQA,EAAM,OAAO,OAC1B,KAAK,cAAc,IAAIJ,GAAgB;AAC3C;AArCiBK,EAAA;AAAA,EAAhBC,EAAA;AAAM,GAHEd,EAGQ,WAAA,SAAA,CAAA;AAE2Ba,EAAA;AAAA,EAA3CE,EAAS,EAAE,MAAM,SAAS,SAAS,IAAM;AAAA,GALjCf,EAKmC,WAAA,YAAA,CAAA;AAEfa,EAAA;AAAA,EAA5BE,EAAS,EAAE,MAAM,QAAA,CAAS;AAAA,GAPlBf,EAOoB,WAAA,aAAA,CAAA;AAEDa,EAAA;AAAA,EAA3BE,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GATjBf,EASmB,WAAA,oBAAA,CAAA;AAEUa,EAAA;AAAA,EAArCG,EAAM,6BAA6B;AAAA,GAX3BhB,EAW6B,WAAA,UAAA,CAAA;AAX7BA,IAANa,EAAA;AAAA,EADNI,EAAc,yCAAyC;AAAA,GAC3CjB,CAAA;AA0Db,MAAAkB,IAAelB;"}