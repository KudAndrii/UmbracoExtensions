{"version":3,"file":"client.js","sources":["../client/src/property-editor-ui-ak-radio-button-list.element.ts"],"sourcesContent":["import type { UmbInputRadioButtonListElement, UmbRadioButtonItem } from '@umbraco-cms/backoffice/components'\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event'\nimport { html, customElement, property, state, query } from '@umbraco-cms/backoffice/external/lit'\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element'\nimport { UUIFormControlMixin } from \"@umbraco-cms/backoffice/external/uui\"\nimport { UMB_VALIDATION_EMPTY_LOCALIZATION_KEY } from '@umbraco-cms/backoffice/validation'\nimport type {\n    UmbPropertyEditorConfigCollection,\n    UmbPropertyEditorUiElement,\n} from '@umbraco-cms/backoffice/property-editor'\n\n@customElement('ak-property-editor-ui-radio-button-list')\nexport class AkPropertyEditorUIRadioButtonListElement\n    extends UUIFormControlMixin<string | undefined, typeof UmbLitElement, undefined>(UmbLitElement, undefined)\n    implements UmbPropertyEditorUiElement {\n    @state() private _list: Array<UmbRadioButtonItem> = []\n    @state() private _value?: string = undefined\n\n    @property({ type: Boolean, reflect: true }) readonly = false\n\n    @property({ type: Boolean, reflect: true }) mandatory = false\n\n    @property({ type: String }) mandatoryMessage = UMB_VALIDATION_EMPTY_LOCALIZATION_KEY\n\n    @property({ type: String })\n    public get value(): string | undefined {\n        return this._value\n    }\n\n    public set value(value: unknown) {\n        if (!value || typeof value !== 'string') {\n            return\n        }\n\n        if (!!this._list?.length && !this._list.some(item => item.value === value) ||\n            this._value === value) {\n            return\n        }\n\n        this._value = value\n        this.dispatchEvent(new UmbChangeEvent())\n    }\n\n    @query('umb-input-radio-button-list') _input?: UmbInputRadioButtonListElement\n\n    public set config(config: UmbPropertyEditorConfigCollection | undefined) {\n        if (!config) return\n\n        const items = config.getValueByAlias('items')\n        const defaultValue: string | undefined = config.getValueByAlias('default')\n\n        if (!this.value && !!defaultValue) {\n            this.value = defaultValue\n            this.dispatchEvent(new UmbChangeEvent())\n        }\n\n        if (Array.isArray(items) && !!items.length) {\n            this._list = items.filter(item => !!item?.key).map(item => ({\n                label: this.localize.string(item.value) || item.key,\n                value: item.key\n            }))\n\n            // If selection includes a value which is not in the list, add it to the list as invalid\n            if (this.value && !this._list.find((item) => item.value === this.value)) {\n                this._list.push({ label: this.value, value: this.value, invalid: true })\n            }\n        }\n    }\n\n    #onChange(event: CustomEvent & { target: UmbInputRadioButtonListElement }) {\n        this.value = event.target.value\n        this.dispatchEvent(new UmbChangeEvent())\n    }\n\n    override render() {\n        return html`\n          <umb-input-radio-button-list\n            .list=${ this._list }\n            .required=${ this.mandatory }\n            .requiredMessage=${ this.mandatoryMessage }\n            .value=${ this.value ?? '' }\n            ?readonly=${ this.readonly }\n            @change=${ this.#onChange }\n          ></umb-input-radio-button-list>\n        `\n    }\n\n    override getFormElement = () => this._input\n}\n\nexport default AkPropertyEditorUIRadioButtonListElement\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'ak-property-editor-ui-radio-button-list': AkPropertyEditorUIRadioButtonListElement\n    }\n}"],"names":["_AkPropertyEditorUIRadioButtonListElement_instances","onChange_fn","AkPropertyEditorUIRadioButtonListElement","UUIFormControlMixin","UmbLitElement","__privateAdd","UMB_VALIDATION_EMPTY_LOCALIZATION_KEY","value","item","UmbChangeEvent","config","items","defaultValue","html","__privateMethod","event","__decorateClass","state","property","query","customElement","AkPropertyEditorUIRadioButtonListElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAYO,IAAMC,IAAN,cACKC,EAAyEC,GAAe,MAAS,EACnE;AAAA,EAFnC,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAGM,KAAQ,QAAmC,CAAA,GAC3C,KAAQ,SAAkB,QAES,KAAA,WAAW,IAEX,KAAA,YAAY,IAE5B,KAAA,mBAAmBM,GAiE/C,KAAS,iBAAiB,MAAM,KAAK;AAAA,EAAA;AAAA,EA9DrC,IAAW,QAA4B;AACnC,WAAO,KAAK;AAAA,EAAA;AAAA,EAGhB,IAAW,MAAMC,GAAgB;AAC7B,IAAI,CAACA,KAAS,OAAOA,KAAU,YAIzB,KAAK,OAAO,UAAU,CAAC,KAAK,MAAM,KAAK,CAAAC,MAAQA,EAAK,UAAUD,CAAK,KACrE,KAAK,WAAWA,MAIpB,KAAK,SAASA,GACd,KAAK,cAAc,IAAIE,GAAgB;AAAA,EAAA;AAAA,EAK3C,IAAW,OAAOC,GAAuD;AACrE,QAAI,CAACA,EAAQ;AAEb,UAAMC,IAAQD,EAAO,gBAAgB,OAAO,GACtCE,IAAmCF,EAAO,gBAAgB,SAAS;AAEzE,IAAI,CAAC,KAAK,SAAWE,MACjB,KAAK,QAAQA,GACb,KAAK,cAAc,IAAIH,GAAgB,IAGvC,MAAM,QAAQE,CAAK,KAAOA,EAAM,WAChC,KAAK,QAAQA,EAAM,OAAO,CAAAH,MAAQ,CAAC,CAACA,GAAM,GAAG,EAAE,IAAI,CAAAA,OAAS;AAAA,MACxD,OAAO,KAAK,SAAS,OAAOA,EAAK,KAAK,KAAKA,EAAK;AAAA,MAChD,OAAOA,EAAK;AAAA,IAAA,EACd,GAGE,KAAK,SAAS,CAAC,KAAK,MAAM,KAAK,CAACA,MAASA,EAAK,UAAU,KAAK,KAAK,KAClE,KAAK,MAAM,KAAK,EAAE,OAAO,KAAK,OAAO,OAAO,KAAK,OAAO,SAAS,GAAA,CAAM;AAAA,EAE/E;AAAA,EAQK,SAAS;AACd,WAAOK;AAAA;AAAA,oBAEM,KAAK,KAAM;AAAA,wBACP,KAAK,SAAU;AAAA,+BACR,KAAK,gBAAiB;AAAA,qBAChC,KAAK,SAAS,EAAG;AAAA,wBACd,KAAK,QAAS;AAAA,sBAChBC,QAAKd,GAAAC,CAAA,CAAU;AAAA;AAAA;AAAA,EAAA;AAMtC;AA5EOD,IAAA,oBAAA,QAAA;AAyDHC,IAAS,SAACc,GAAiE;AACvE,OAAK,QAAQA,EAAM,OAAO,OAC1B,KAAK,cAAc,IAAIN,GAAgB;AAC3C;AAzDiBO,EAAA;AAAA,EAAhBC,EAAA;AAAM,GAHEf,EAGQ,WAAA,SAAA,CAAA;AACAc,EAAA;AAAA,EAAhBC,EAAA;AAAM,GAJEf,EAIQ,WAAA,UAAA,CAAA;AAE2Bc,EAAA;AAAA,EAA3CE,EAAS,EAAE,MAAM,SAAS,SAAS,IAAM;AAAA,GANjChB,EAMmC,WAAA,YAAA,CAAA;AAEAc,EAAA;AAAA,EAA3CE,EAAS,EAAE,MAAM,SAAS,SAAS,IAAM;AAAA,GARjChB,EAQmC,WAAA,aAAA,CAAA;AAEhBc,EAAA;AAAA,EAA3BE,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAVjBhB,EAUmB,WAAA,oBAAA,CAAA;AAGjBc,EAAA;AAAA,EADVE,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAZjBhB,EAaE,WAAA,SAAA,CAAA;AAkB2Bc,EAAA;AAAA,EAArCG,EAAM,6BAA6B;AAAA,GA/B3BjB,EA+B6B,WAAA,UAAA,CAAA;AA/B7BA,IAANc,EAAA;AAAA,EADNI,EAAc,yCAAyC;AAAA,GAC3ClB,CAAA;AA8Eb,MAAAmB,IAAenB;"}